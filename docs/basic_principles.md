# コマンド入力の基本原則

BCDiceはテキストチャットに入力されたコマンドに自動応答することを想定して作られています。
つまり、テキストの内容がコマンドなのか、ただのチャットかわかるように入力しなければなりません。

BCDiceは以下の原則に沿ってテキストを処理しています。

### 半角スペースより前をコマンドとして扱う

コマンド部分とコメント部分を、半角スペースを基準に区別しています。
テキストに半角スペースがない場合には、テキストの末尾までをコマンドだと解釈します。

#### OK
```
2D6>=7 命中判定！
```

```
2D6>=7
```

#### NG
```
2D6 >= 7 命中判定！
```
`>=`の前に半角スペースがあるので、コマンド`2D6`が実行されます。

```
2D6>=7命中判定！
```
式とコメントが区切られていないため、実行できません。

### 大文字と小文字は区別しない

`2D6`、`2d6`のどちらで入力しても実行でき、同じ入力として扱われます。

#### OK
```
2D6+3d10
```

### コマンドは半角で記述される

歴史的経緯から、全角英数でコマンドを記述することはできません。
全角で`１Ｄ６`と入力しても、BCDiceはコマンドだと解釈せずに何も実行しません。

※オンセツールによっては全角での入力に対応している場合もあります。

※将来のアップデートで、全角でも記述できるようになる可能性があります。

### カッコつきの四則演算は展開される

**ゲームシステム固有のコマンド処理では**入力テキストにある`(2+3)`のような四則演算を事前に計算して展開します。四則演算の詳細は[四則演算](arithmetic.md)をご覧ください。

| 入力 | 処理後 |
| :---- | :---- |
|`(2+3)XYZ(4/2)+2>=4` | `5XYZ2+2>=4`|
| `(2+3)(1+2)AB` | `53AB` |


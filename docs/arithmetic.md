# 四則演算

BCDiceのコマンドには四則演算を含めることができます。
この四則演算は日常生活で用いる計算式とは少し違うルールで動いているので、ここで細かい規則を紹介します。

## 使える演算子

利用できる演算子は以下の4つです。

- `+`：足し算
- `-`：引き算
- `*`：掛け算
- `/`：割り算

## 演算子の優先順位

一般的な計算式と同様に、`*`, `/` → `+`, `-` の順で実行されます。

```
1+2*3 -> 7
```

計算順序を操作したい場合にはカッコが使えます。
```
(1+2)*3 -> 9
```

## 掛け算

掛け算は必ず`*`を使う必要があります。カッコの前に数字を置く省略記法は処理できません。

#### OK

```
2*(1+2)
```

#### NG

```
2(1+2)
```


## 割り算

BCDiceは整数のみを扱うため、割り算で発生する小数点以下は丸められます。
丸めは切り捨て、切り上げ、四捨五入の3種類あり、計算式の中で指定できます。
指定されない場合、ゲームシステムによって挙動が変わります。

### 基本

```
1/2 -> 0か1かはゲームシステムの設定による
```

割り算の項の末尾に`F`, `C`, `U`, `R`をつけると小数点以下の扱いを指定できます。

### 切り捨て `F`

```
1/2F -> 0
```

`F` は floor の略


### 切り上げ `C`, `U`

```
1/2U -> 1
```

`C` は ceil の、`U` は round up の略

### 四捨五入 `R`

```
5/10R -> 0.5 -> 1
```
```
4/10R -> 0.4 -> 0
```

`R` は round の略

### 式中で複数の丸めを指定する

丸めの指定は割り算の項の末尾に書くため、式の中で項ごとにそれぞれ指定します。

```
1/2F+5/10R -> 0.5 + 0.5 -> 0 + 1 -> 1
```

# 加算ダイス

```
xDy
```

`y`面ダイスを`x`個ダイスロールしてその合計を表示します。

## 目標値

```
2D6>=7
```

一般的な不等号の式と同じようにして目標値を記述できます。
上記コマンドば6面ダイスを2個ダイスロールし、その合計が7以上か判定します。

比較記号は他のコマンドと同様に以下の記号を指定できます。

| 記号 | 意味 |
| :----- | :----- |
| `>=` | 以上 |
| `>` | より大きい |
| `<` | 未満 |
| `<=` | 以下 |
| `==`, `=` | 等しい |
| `!=`, `<>` | 異なる |

## 四則演算を活用する

`xDy`の表記はランダム性のある数字のように扱うことができ、四則演算と組み合わせて自由度の高い記述をすることができます。
`x`や`y`の部分にも数式を入れることができます。四則演算の詳しい仕様は[四則演算](/arithmetic.md)をご覧ください。

#### OK
```
2D6+2>=7+4
```

```
(2D6+2)*6<(10+2)*2
```

```
(1+3)D(2+2)
```

```
2D6+1D100*4D3
```

#### NG

目標値にダイスロールを含めることはできません
```
1D10>=2D6
```

`x`や`y`の部分にダイスロールを含めることはできません
```
(1D6)D6
```

## 出目を選別する

ダイス表記の後に`KH3`のように追記することで、ダイスロールした出目の中で大きい出目から何個かを採用してその合計を求める、といったことができます。

選別の動きは以下の4種類です。

| コマンド | 動き | 意味 |
| :----- | :----- | :----- |
| `xDyKHn` | 出目の大きい方から`n`個を採用する | Keep Highest |
| `xDyKLn` | 出目の小さい方から`n`個を採用する | Keep Lowest |
| `xDyDHn` | 出目の大きい方から`n`個を取り除く | Drop Highest |
| `xDyDLn` | 出目の小さい方から`n`個を取り除く | Drop Lowest |

以下の例では、6面ダイスを5個ダイスロールして大きい出目3個の合計を表示しています。

```
[DiceBot]> 5D6KH3
(5D6KH3) ＞ 17[2,2,5,6,6] ＞ 17
```

通常のダイスロールと同様に、計算式に含めることができます。
```
[DiceBot]> 3D6KH1+4>=10
(3D6KH1+4>=10) ＞ 6[5,6,6]+4 ＞ 10 ＞ 成功
```